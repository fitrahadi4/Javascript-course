<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart Quantity</title>
  </head>
  <body>
    <button onclick="console.log(`Cart Quantity: ${cartQuantity}`);">
      Show Quantity
    </button>
    <button onclick="updateCartQuantity(1);">Add to Cart</button>
    <button onclick="updateCartQuantity(2);">+2</button>
    <button onclick="updateCartQuantity(3);">+3</button>

    <button onclick="updateCartQuantity('reset');">Reset Cart</button>

    <button onclick="updateCartQuantity(4);">+4</button>
    <button onclick="updateCartQuantity(5);">+5</button>

    <button onclick="updateCartQuantity(-1);">Remove from cart</button>

    <button onclick="updateCartQuantity(-2)">-2</button>
    <button onclick="updateCartQuantity(-3)">-3</button>

    <p class="js-result"></p>
    <script>
      let now = 0;
      let cartQuantity = 0;
      
      function showResult(now) {
        const elementResult = document.querySelector('.js-result');
        elementResult.innerHTML = `Cart quantity: ${now}`;
      }

      function updateCartQuantity(quantity) {
        if (quantity === "reset") {
          cartQuantity = 0;
          now = 0;
          console.log("Cart was reset.");
          console.log(`Cart Quantity: ${cartQuantity}`);
        } else if (Math.sign(quantity) > 0) {
          now = cartQuantity + quantity;
          if (now <= 10) {
            cartQuantity += quantity;
            // console.log(`Cart Quantity: ${cartQuantity}`);
            showResult(cartQuantity);
          } else {
            console.log(`'The cart is full' and don't update the quantity`);
          }
        } else {
          quantity = quantity * -1;
          now = cartQuantity - quantity;
          if (now >= 0) {
            cartQuantity -= quantity;
            // console.log(`Cart Quantity: ${cartQuantity}`);
            showResult(cartQuantity);
          } else {
            console.log(
              `'Not enough items in the cart' and don't update the quantity`
            );
          }
        }
      }

      showResult(now);
    </script>
  </body>
</html>
